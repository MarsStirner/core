<?xml version="1.0" encoding="windows-1251"?>
<ClinicalDocument xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:hl7-org:v3"
                  xsi:schemaLocation="urn:hl7-org:v3 CDA.xsd">
    <typeId extension="POCD_HD000040" root="2.16.840.1.113883.1.3"/>
    <!-- идентификатор мед документа -->
    <id root="2.16.840.1.113883.1.3" extension="orderMisId"/>
    <!-- код для документа type - пустой в нашем случае   -->
    <code/>
    <!-- Title для документа -->
    <title>Заказ лабораторных исследований</title>
    <!-- дата и время создания направления врачом -->
    <effectiveTime value="orderMisDate"/>
    <!-- уровень конфиденциальности документа : Normal -->
    <confidentialityCode code="N" codeSystem="2.16.840.1.113883.5.25"/>
    <!--язык для этого документа -->
    <languageCode code="ru-RU"/>
    <!--  -->
    <versionNumber value="orderStatus"/>
    <!-- Record target - демографические данные пациента -->
    <recordTarget typeCode="RCT">
        <patientRole classCode="PAT">
            <!-- идентификатор пациента-->
            <id extension="patientMisId" root="GUID"/>
            <!-- адрес пациента-  если адреса нет <addr nullFlavor=“NI”/>-->
            <addr>patientAddress</addr>
            <patient classCode="PSN" determinerCode="INSTANCE">
                <!-- фио пациента -->
                <name>
                    <given>patientName</given>
                    <suffix>patientPatronum</suffix>
                    <family>patientFamily</family>
                </name>
                <!-- пол пациента -->
                <administrativeGenderCode code="patientSex" codeSystem=""
                        />
                <!-- дата рождения пациента -->
                <birthTime value="patientBirthDate"/>

            </patient>
            <!-- Название ЛПУ, которое посылает в ЛИС направление -->
            <providerOrganization classCode="ORG" determinerCode="INSTANCE">
                <id root="GUID"/>
                <name>orderCustodian</name>
            </providerOrganization>
        </patientRole>
    </recordTarget>
    <!-- создатель документа. Обязательный -->
    <author typeCode="AUT">
        <!-- дата и время создания направления врачом -->
        <time value="orderMisDate"/>
        <assignedAuthor classCode="ASSIGNED">
            <!-- уникальный код назначившего врача -->
            <id extension="orderDoctorMisId" root="GUID"/>
            <!-- Направивиший врач -->
            <assignedPerson classCode="PSN" determinerCode="INSTANCE">
                <name>
                    <family>orderDoctorFamily</family>
                    <given>orderDoctorName</given>
                    <suffix>orderDoctorPatronum</suffix>
                </name>
            </assignedPerson>
            <!-- лпу в котором работает врач-->
            <representedOrganization>
                <id root="GUID"/>
                <name>orderCustodian</name>
            </representedOrganization>
        </assignedAuthor>
    </author>
    <componentOf>
        <encompassingEncounter>        <!-- Данные о случае госпитализации -->
            <id root="orderCustodian" extension="patientNumber"/>
            <!-- карта стационарного пациента, ее номер -->
            <code codeSystem="2.16.840.1.113883.5.4"
                  codeSystemName="actCode"
                  code="IMP"
                  displayName="Inpatient encounter"/>
            <effectiveTime nullFlavor='NI'/>
            <!-- Обязательный элемент. Дату госпитализации и выписки из стационара не пересылаем -->
        </encompassingEncounter>
    </componentOf>

    <component>
        <structuredBody>
            <!-- информация по биоматериалу -->
            <component>
                <entry>
                    <observation classCode="OBS" moodCode="ENT" negationInd="false">
                        <effectiveTime value="orderProbeDate"/>
                        <specimen>
                            <specimenRole>
                                <id root="orderBarCode"/>
                                <specimenPlayingEntity>
                                    <code code="orderBiomaterialCode">
                                        <translation displayName="orderBiomaterialName"/>
                                    </code>
                                    <quantity value="orderBiomaterialVolume"/>
                                    <unit code="UnitBiomaterialCode" codename="UnitBiomaterialName"/>
                                    <text value="orderBiomaterialComment"/>
                                </specimenPlayingEntity>
                            </specimenRole>
                        </specimen>
                    </observation>
                </entry>
            </component>
            <component>
                <section>
                    <text>
                        <table border="1">
                            <thead>
                                <tr>
                                    <th>Код МКБ10</th>
                                    <th>Название диагноза</th>
                                    <th>Код отделения</th>
                                    <th>Название отделения</th>
                                    <th>Срочность</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ID="tr-1">
                                    <td>orderDiagCode</td>
                                    <th>orderDiagText</th>
                                    <td>orderDepartmentMisId</td>
                                    <th>orderDepartmentName</th>
                                    <th>isUrgent</th>
                                </tr>
                            </tbody>
                        </table>
                    </text>
                    <entry>
                        <observation classCode="OBS" moodCode="RQO" negationInd="false">
                            <!-- Название типа финансирования, код исследования, название исследования    -->
                            <id root="GUID" extension="1"/>
                            <id extension="typeFinanceName"/>
                            <code code="diagnosticCode" displayName="diagnosticName"/>
                            <text>
                                <reference value="#tr-1"/>
                            </text>
                        </observation>
                    </entry>
                    <!--таблица индикаторов - может быть несколько строк   -->
                    <entry>
                        <observation classCode="OBS" moodCode="RQO" negationInd="false">
                            <id root="GUID" extension="1"/>
                            <code code="indicatorCode" displayName="indicatorName"/>
                            <text>
                                <reference value="#tr-2"/>
                            </text>
                        </observation>
                    </entry>
                </section>
            </component>

            <component>
                <section>
                    <text>
                        <table border="1">
                            <thead>
                                <tr>
                                    <th>Код услуги</th>
                                    <th>Название услуги</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ID="tr-1">
                                    <td>diagnosticCode</td>
                                    <th>diagnosticName</th>
                                </tr>
                            </tbody>
                        </table>
                        <!--таблица индикаторов - может быть несколько строк   -->
                        <table border="1">
                            <thead>
                                <tr>
                                    <th>Код индикатора (теста)</th>
                                    <th>Название индикатора</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ID="tr-1">
                                    <td>indicatorCode</td>
                                    <th>indicatorName</th>
                                </tr>
                            </tbody>
                        </table>
                    </text>
                    <entry>
                        <observation classCode="OBS" moodCode="RQO" negationInd="false">
                            <id root="GUID" extension="1"/>
                            <!--таблица индикаторов - может быть несколько строк   -->
                            <id extension="typeFinanceName"/>
                            <code code="diagnosticCode" displayName="diagnosticName"/>
                            <text>
                                <reference value="#tr-1"/>
                            </text>
                        </observation>
                    </entry>
                    <!--таблица индикаторов - может быть несколько строк   -->
                    <entry>
                        <observation classCode="OBS" moodCode="RQO" negationInd="false">
                            <id root="GUID" extension="1"/>
                            <code code="indicatorCode" displayName="indicatorName"/>
                            <text>
                                <reference value="#tr-2"/>
                            </text>
                        </observation>
                    </entry>
                </section>
            </component>
            <!--  появляется если пациент женщина и беременная  -->
            <component>
                <section>
                    <code code=""/>
                    <title>средний срок беременности, в неделях</title>
                    <text>orderPregnat</text>
                </section>
            </component>

            <component>
                <section>
                    <code code=""/>
                    <title>комментарий к направлению</title>
                    <text>orderComment</text>
                </section>
            </component>
            <!-- закрытие  body и document -->
        </structuredBody>
    </component>
</ClinicalDocument>
